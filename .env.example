# Supabase Configuration
# Get these from: https://app.supabase.com/project/_/settings/api

# Your Supabase Project URL
# Example: https://xxxxxxxxxxxxx.supabase.co
SUPABASE_URL=https://your-project-id.supabase.co

# Your Supabase Anon/Public Key
# This should be a long JWT token starting with "eyJ"
# IMPORTANT: Use the "anon" key, NOT the "service_role" key
# Example: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
SUPABASE_ANON_KEY=your-anon-key-here

# Server Configuration (Optional)
PORT=5000
NODE_ENV=production

# ==================== SETUP INSTRUCTIONS ====================
#
# 1. Copy this file to .env:
#    cp .env.example .env
#
# 2. Get your Supabase credentials:
#    - Go to https://app.supabase.com
#    - Select your project
#    - Go to Settings → API
#    - Copy "Project URL" → paste as SUPABASE_URL
#    - Copy "anon public" key → paste as SUPABASE_ANON_KEY
#
# 3. Create Storage Bucket (Required for profile photos):
#    - Go to Storage → New bucket
#    - Name: profile-photos
#    - Public: ON
#    - File size limit: 50MB
#
# 4. Ensure Database Tables Exist:
#    Required tables: consumers, farmers, products, tours
#    Required columns in consumers:
#      - id (bigint)
#      - username, email, mobile, password, status
#      - profile_photo_url (text, default '')
#      - created_at, updated_at (timestamp)
#
# ==================== RENDER.COM DEPLOYMENT ====================
#
# On Render.com, add these as environment variables:
# 1. Go to Dashboard → Your Service → Environment
# 2. Click "Add Environment Variable"
# 3. Add:
#    - Key: SUPABASE_URL, Value: (your Supabase URL)
#    - Key: SUPABASE_ANON_KEY, Value: (your anon key)
#
# Note: PORT and NODE_ENV are set automatically by Render
#
# ==================== TROUBLESHOOTING ====================
#
# Error: "Invalid Compact JWS"
# → Your SUPABASE_ANON_KEY is invalid or malformed
# → Make sure to copy the entire key without spaces
# → The key should start with "eyJ"
#
# Error: "Bucket not found"
# → Create the "profile-photos" bucket in Supabase Storage
# → Set it as Public
#
# Error: "Missing columns"
# → Run the SQL commands shown in server logs
# → Or use the /api/fix-consumers-columns endpoint
#
